import{r as a,j as e,b as g}from"./index-DY5-8eit.js";import{P as f}from"./PageLayout-BiITw9I-.js";import{C as h}from"./Card-CSTHicjx.js";function j(n){return new Date(n).toLocaleDateString("nb-NO",{year:"numeric",month:"short",day:"numeric"})}function v(){const[n,c]=a.useState([]),[r,d]=a.useState(!0),[o,l]=a.useState(null);a.useEffect(()=>{async function t(){try{const s=await fetch(`${g}/journal/all`,{headers:{Authorization:`Bearer ${localStorage.getItem("token")}`}});if(!s.ok){const x=s.status===401?"Du må være logget inn for å se dagboken.":"Kunne ikke hente dagboken.";l(x);return}const u=await s.json();c(u)}catch{l("Kunne ikke hente dagboken.")}finally{d(!1)}}t()},[]);const m={1:"Fase 1 – Kartlegging",2:"Fase 2 – Kompetanseløft",3:"Fase 3 – Aktiv jobbsøking",4:"Fase 4 – Ny jobb"},i={1:[],2:[],3:[],4:[]};for(const t of n)i[t.phase].push(t);return e.jsxs(f,{title:"Dagbok",subtitle:"Notater og refleksjoner fra din omstillingsreise.",maxWidthClassName:"max-w-4xl",children:[r&&e.jsx("div",{children:"Laster..."}),!r&&o&&e.jsx("div",{className:"text-red-600 text-sm",children:o}),!r&&!o&&e.jsx("div",{className:"space-y-6",children:[1,2,3,4].map(t=>e.jsxs(h,{title:m[t],children:[i[t].length===0&&e.jsx("div",{className:"text-slate-500 text-sm",children:"Ingen notater i denne fasen ennå."}),e.jsx("div",{className:"space-y-4",children:i[t].map(s=>e.jsxs("div",{className:"relative pl-5 border-l border-slate-200",children:[e.jsx("div",{className:"absolute -left-1 top-1 h-3 w-3 rounded-full bg-emerald-600"}),e.jsx("div",{className:"text-xs text-slate-500 mb-1",children:j(s.createdAt)}),e.jsx("div",{className:"whitespace-pre-wrap text-sm text-slate-800",children:s.content})]},s.id))})]},t))})]})}export{v as default};
