import{r as i,j as e,a as f,g as u}from"./index-CKMgu8cZ.js";import{C as d}from"./Card-oOArJDDQ.js";function p(){const[r,s]=i.useState(null),[n,a]=i.useState(null),o=localStorage.getItem("token");return i.useEffect(()=>{let l=!0;return(async()=>{if(!o){a("Du må være innlogget for å se tilbudet."),s(null);return}try{const t=await fetch(`${f}/private/offer`,{headers:{Authorization:`Bearer ${o}`}});if(!t.ok)throw new Error(`HTTP ${t.status}`);const c=await t.json();l&&(s(c),a(null))}catch(t){l&&(s(null),a(u(t,"Kunne ikke hente tilbud.")))}})(),()=>{l=!1}},[o]),e.jsx("div",{className:"w-full max-w-3xl mx-auto px-4 py-10",children:e.jsxs(d,{title:"Ditt forsikringstilbud",children:[n&&e.jsx("p",{className:"mb-4 text-sm text-red-600",children:n}),r?e.jsxs("div",{className:"border rounded-xl p-4 bg-brand-soft/60 text-sm space-y-2",children:[e.jsxs("p",{children:[e.jsx("strong",{children:"Pris per måned:"})," ",r.price," kr"]}),e.jsxs("p",{children:[e.jsx("strong",{children:"Dekning:"})," ",r.coverage]})]}):!n&&e.jsx("p",{className:"text-sm text-slate-600",children:"Henter tilbud."})]})})}export{p as default};
