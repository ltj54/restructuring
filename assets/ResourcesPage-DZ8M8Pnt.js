import{r as s,b as y,j as e}from"./index-DY5-8eit.js";import{C as h}from"./Card-CSTHicjx.js";import{P as w}from"./PageLayout-BiITw9I-.js";function S(){const[n,d]=s.useState(!1);async function r(u,l){d(!0);const c=localStorage.getItem("token");if(!c)throw d(!1),new Error("Du må være logget inn for å lagre i dagboken.");try{const o=await fetch(`${y}/journal`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${c}`},body:JSON.stringify({phase:u,content:l})});if(!o.ok){const t=o.status===401?"Økten er utløpt. Logg inn på nytt.":"Kunne ikke lagre journalinnlegg";throw new Error(t)}}finally{d(!1)}}return{addEntry:r,loading:n}}function L({open:n,onClose:d,defaultContent:r}){const{addEntry:u,loading:l}=S(),[c,o]=s.useState(1),[t,f]=s.useState(""),[m,j]=s.useState(null);if(!n)return null;async function g(){j(null);const a=r+(t?`

Kommentar: ${t}`:"");try{await u(c,a),d()}catch(b){const x=b instanceof Error?b.message:"Kunne ikke lagre journalinnlegget.";j(x)}}return e.jsx("div",{className:"fixed inset-0 bg-black/40 flex items-center justify-center z-50",children:e.jsxs(h,{className:"max-w-md w-full p-4",children:[e.jsx("h2",{className:"text-lg font-semibold mb-4",children:"Legg til i dagbok"}),e.jsxs("label",{className:"block text-sm mb-3",children:["Velg fase:",e.jsxs("select",{className:"mt-1 w-full border rounded p-2",value:c,onChange:a=>o(Number(a.target.value)),children:[e.jsx("option",{value:1,children:"Fase 1 – Kartlegging"}),e.jsx("option",{value:2,children:"Fase 2 – Kompetanseløft"}),e.jsx("option",{value:3,children:"Fase 3 – Aktiv jobbsøking"}),e.jsx("option",{value:4,children:"Fase 4 – Ny jobb"})]})]}),e.jsxs("label",{className:"block text-sm mb-3",children:["Kommentar (valgfritt)",e.jsx("textarea",{className:"mt-1 w-full border rounded p-2",rows:3,value:t,onChange:a=>f(a.target.value)})]}),m&&e.jsx("p",{className:"text-sm text-red-600 mb-2",children:m}),e.jsxs("div",{className:"flex justify-end gap-3",children:[e.jsx("button",{className:"px-4 py-2",onClick:d,children:"Avbryt"}),e.jsx("button",{className:"px-4 py-2 bg-emerald-700 text-white rounded-lg",onClick:g,disabled:l,children:l?"Lagrer...":"Lagre"})]})]})})}function A(){const[n,d]=s.useState(0),[r,u]=s.useState(0),[l,c]=s.useState(0),o=s.useMemo(()=>n-r,[n,r]),t=s.useMemo(()=>r<=0?0:Number((l/r).toFixed(1)),[l,r]),f=t>=6?"text-emerald-700":t>=3?"text-amber-600":"text-red-600",[m,j]=s.useState(0),g=s.useMemo(()=>{const i=m*.624;return Math.round(i/12)},[m]),a=s.useMemo(()=>Math.round(n-g||0),[n,g]),[b,x]=s.useState(!1),[p,k]=s.useState("");function N(){k(`
Økonomioppdatering:

• Netto inntekt: ${n.toLocaleString("nb-NO")} kr
• Utgifter: ${r.toLocaleString("nb-NO")} kr
• Overskudd: ${o.toLocaleString("nb-NO")} kr
• Buffer: ${l.toLocaleString("nb-NO")} kr (${t} måneder)
    `.trim()),x(!0)}function v(){k(`
Dagpenge-beregning:

• Brutto lønn siste 12 mnd: ${m.toLocaleString("nb-NO")} kr
• Estimert dagpenger: ${g.toLocaleString("nb-NO")} kr / mnd
• Differanse fra lønn: ${a.toLocaleString("nb-NO")} kr / mnd
    `.trim()),x(!0)}return e.jsxs(w,{title:"Ressurser",subtitle:"Verktøy, kalkyler og sjekklister du kan bruke mens du jobber med omstilling og planlegging.",maxWidthClassName:"max-w-4xl",children:[e.jsxs("div",{className:"space-y-6",children:[e.jsx(h,{title:"Økonomisk oversikt",children:e.jsxs("div",{className:"space-y-4",children:[e.jsxs("label",{className:"block text-sm",children:[e.jsx("span",{className:"text-slate-700",children:"Månedlig netto inntekt (kr)"}),e.jsx("input",{type:"number",className:"mt-1 w-full rounded-lg border border-slate-300 bg-white p-2 text-sm",value:n||"",onChange:i=>d(Number(i.target.value||0))})]}),e.jsxs("label",{className:"block text-sm",children:[e.jsx("span",{className:"text-slate-700",children:"Månedlige utgifter (kr)"}),e.jsx("input",{type:"number",className:"mt-1 w-full rounded-lg border border-slate-300 bg-white p-2 text-sm",value:r||"",onChange:i=>u(Number(i.target.value||0))})]}),e.jsxs("label",{className:"block text-sm",children:[e.jsx("span",{className:"text-slate-700",children:"Buffer på konto (kr)"}),e.jsx("input",{type:"number",className:"mt-1 w-full rounded-lg border border-slate-300 bg-white p-2 text-sm",value:l||"",onChange:i=>c(Number(i.target.value||0))})]}),e.jsxs("div",{className:"rounded-xl bg-slate-50 p-3 text-sm space-y-1",children:[e.jsxs("div",{children:["Overskudd per måned:"," ",e.jsxs("span",{className:o>=0?"text-emerald-700":"text-red-600",children:[o.toLocaleString("nb-NO")," kr"]})]}),e.jsxs("div",{children:["Buffer dekker:"," ",e.jsxs("span",{className:f,children:[t," måneder"]})]}),e.jsxs("div",{className:"pt-2 text-slate-600",children:[t>=6&&e.jsx(e.Fragment,{children:"Du ligger trygt! Bufferen gir deg godt handlingsrom i omstilling."}),t>=3&&t<6&&e.jsx(e.Fragment,{children:"OK buffer. Du er relativt trygg, men følg med på utgiftene."}),t>0&&t<3&&e.jsx(e.Fragment,{children:"Bufferen er lav – vurder å redusere utgifter midlertidig."}),t===0&&e.jsx(e.Fragment,{children:"Skriv inn tall for å få en vurdering."})]}),e.jsx("button",{className:"mt-3 px-4 py-2 bg-emerald-700 text-white rounded-lg text-sm",onClick:N,children:"Legg denne beregningen i dagboken"})]})]})}),e.jsx(h,{title:"Dagpengekalkulator (forenklet)",children:e.jsxs("div",{className:"space-y-4 text-sm",children:[e.jsxs("label",{className:"block",children:[e.jsx("span",{className:"text-slate-700",children:"Brutto inntekt siste 12 måneder (kr)"}),e.jsx("input",{type:"number",className:"mt-1 w-full rounded-lg border border-slate-300 bg-white p-2 text-sm",value:m||"",onChange:i=>j(Number(i.target.value||0))})]}),e.jsxs("div",{className:"rounded-xl bg-slate-50 p-3 space-y-1",children:[e.jsxs("div",{children:["Estimerte dagpenger:"," ",e.jsxs("span",{className:"text-slate-800 font-medium",children:[g.toLocaleString("nb-NO")," kr / mnd"]})]}),e.jsxs("div",{children:["Differanse fra lønn:"," ",e.jsxs("span",{className:a>=0?"text-emerald-700":"text-red-600",children:[a.toLocaleString("nb-NO")," kr / mnd"]})]}),e.jsx("div",{className:"pt-2 text-slate-600",children:"Tall er kun et grovt estimat basert på NAVs standardmodell (62.4 %)."}),e.jsx("button",{className:"mt-3 px-4 py-2 bg-emerald-700 text-white rounded-lg text-sm",onClick:v,children:"Legg denne beregningen i dagboken"})]})]})}),e.jsx(h,{title:"Sjekklister i omstilling",children:e.jsxs("div",{className:"grid gap-6 md:grid-cols-2 text-sm",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"font-medium text-slate-800 mb-2",children:"Økonomi"}),e.jsxs("ul",{className:"list-disc list-inside space-y-1 text-slate-700",children:[e.jsx("li",{children:"Sjekk dagpengerettigheter hos NAV"}),e.jsx("li",{children:"Lag oversikt over faste utgifter"}),e.jsx("li",{children:"Reduser 1–3 utgifter midlertidig"}),e.jsx("li",{children:"Regn ut hvor lenge bufferen varer"})]})]}),e.jsxs("div",{children:[e.jsx("h3",{className:"font-medium text-slate-800 mb-2",children:"Jobbsøking"}),e.jsxs("ul",{className:"list-disc list-inside space-y-1 text-slate-700",children:[e.jsx("li",{children:"Oppdater CV og LinkedIn"}),e.jsx("li",{children:"Kontakt tidligere kollegaer / nettverk"}),e.jsx("li",{children:"Sett mål: 3–5 søknader per uke"}),e.jsx("li",{children:"Lag liste over aktuelle stillinger"})]})]}),e.jsxs("div",{className:"md:col-span-2",children:[e.jsx("h3",{className:"font-medium text-slate-800 mb-2",children:"Mental struktur"}),e.jsxs("ul",{className:"list-disc list-inside space-y-1 text-slate-700",children:[e.jsx("li",{children:"Lag en enkel dagsplan"}),e.jsx("li",{children:"Sett 1–3 konkrete mål for hver dag"}),e.jsx("li",{children:"Før logg over hva du gjør"}),e.jsx("li",{children:"Ta pauser uten dårlig samvittighet"})]})]})]})}),e.jsx(h,{title:"Nyttige lenker",children:e.jsxs("ul",{className:"list-disc list-inside space-y-2 text-sm text-slate-700",children:[e.jsx("li",{children:e.jsx("a",{href:"https://www.nav.no",className:"text-emerald-700 underline",target:"_blank",rel:"noreferrer",children:"NAV – dagpenger, tiltak og hjelp ved omstilling"})}),e.jsx("li",{children:e.jsx("a",{href:"https://www.arbeidsplassen.no",className:"text-emerald-700 underline",target:"_blank",rel:"noreferrer",children:"Arbeidsplassen – finn ledige stillinger"})}),e.jsx("li",{children:e.jsx("a",{href:"https://linkedin.com/jobs",className:"text-emerald-700 underline",target:"_blank",rel:"noreferrer",children:"LinkedIn Jobs – jobbsøking via nettverk"})}),e.jsx("li",{children:e.jsx("a",{href:"https://www.coursera.org",className:"text-emerald-700 underline",target:"_blank",rel:"noreferrer",children:"Coursera – gratis kurs og kompetanseløft"})}),e.jsx("li",{children:e.jsx("a",{href:"https://www.skatteetaten.no",className:"text-emerald-700 underline",target:"_blank",rel:"noreferrer",children:"Skatteetaten – endre skattekort eller sjekke fradrag"})})]})})]}),e.jsx(L,{open:b,onClose:()=>x(!1),defaultContent:p})]})}export{A as default};
